分布式消息队列是什么
1. 分布式消息队列为系统间相互通信提供了另一种异步的方式
2. 分布式消息队列有几个作用
   1. 异步通信
   2. 削峰填谷
   3. 系统解耦
   4. 可靠通信
3. 特别是微服务流行的当下，除了rpc之外，分布式消息队列为系统之间的异步通信提供了一种可选的方式
4. 消息队列到目前为止基本分为三代
   1. 第一代是rabbitMq
   2. 第二代是kafka和rocketMq
   3. 第三代是pulsar
   4. 第一代和第二代之间的主要区别是broker做的事情变少了，其负载的降低意味着客户端会承接更多的事情，这样消息队列就更轻量化和可扩展
5. 目前工作中用的消息队列最多的是kafka，其中有几个关键概念
   1. topic：一个topic就是一类消息的集合，其中可以包含多个partition，这些partition可以认为是多个子topic，partition越多，这个topic同一时间就可以传输更多的消息
   2. partition：子topic，partition内消息是顺序消费的，但是同一个topic的多个partition内，消息不保证顺序消费
   3. replica：指broker的副本，一般会保留2个副本以保证高可用
   4. broker：处理消息的服务器的称呼，broker可以有主和备之分，并且对于不同的topic,主备的broker都是不同的
6. kafka之前的版本是把offset放到zookeeper中记录的，但是新版本中把offset放到了消费者端来进行记录，所以broker就更加轻量化了